"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1371],{1371:(N,l,i)=>{i.r(l),i.d(l,{ProductAddPageModule:()=>C});var p=i(6814),c=i(95),m=i(9862),n=i(3582),s=i(9964),f=i(5861),o=i(6689),h=i(4414),P=i(651);function A(e,g){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const d=o.oxw();o.xp6(1),o.hij(" ",d.nombreprodErrorL," ")}}function v(e,g){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const d=o.oxw();o.xp6(1),o.hij(" ",d.precioErrorL," ")}}function Z(e,g){if(1&e&&(o.TgZ(0,"div",11),o._uU(1),o.qZA()),2&e){const d=o.oxw();o.xp6(1),o.hij(" ",d.direccionErrorL," ")}}const b=[{path:"",component:(()=>{class e{constructor(d,r,t,a){this.formBuilder=d,this.loadingController=r,this.restApi=t,this.router=a,this.nombreprodErrorL="",this.precioErrorL="",this.direccionErrorL="",this.producto={idProducto:0,codigo:"09-G01",nombreprod:"",precio:0,cantidad:0,fechaNacimiento:"",rut:"0",dv:"0",enfermedad:"0",fonocontacto:0,categoria:"0",editorial:"0",raza:"0",edad:0,altura:0,hrini:"0",hrfin:"0",direccion:"",fCreacion:""}}ngOnInit(){this.productForm=this.formBuilder.group({prod_name:[null,c.kI.required],prod_desc:[null,c.kI.required],prod_price:[null,c.kI.required]})}onFormSubmit(d){var r=this;return(0,f.Z)(function*(){if(r.nombreprodErrorL="",r.precioErrorL="",r.direccionErrorL="",!/^[A-Za-z]+$/.test(r.producto.nombreprod))return void(r.nombreprodErrorL="El nombre del producto debe contener solo letras.");if(!/^\d+$/.test(r.producto.precio.toString()))return void(r.precioErrorL="El precio del producto debe ser un n\xfamero entero v\xe1lido.");if(!/^[A-Za-z]+$/.test(r.producto.direccion))return void(r.direccionErrorL="La descripcion del producto debe contener solo letras.");const t=yield r.loadingController.create({message:"Cargando..."});yield t.present(),console.log("Datos que se van a enviar:",r.producto),yield r.restApi.addProduct(r.producto).subscribe({next:a=>{console.log("Next AddProduct Page",a),t.dismiss(),null!=a?(console.log("Next \xa1Se agreg\xf3 correctamente! Navegar\xe9 a la lista de productos;",r.router),r.router.navigate(["/product-list"])):console.log("Next No se agreg\xf3, Res es Null")},complete:()=>{},error:a=>{console.log("Error AddProduct P\xe1gina",a),t.dismiss()}}),console.log("Observe que todo lo del suscribe sale despu\xe9s de este mensaje")})()}static#o=this.\u0275fac=function(r){return new(r||e)(o.Y36(c.qu),o.Y36(h.HT),o.Y36(P.I),o.Y36(s.F0))};static#r=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-product-add"]],decls:28,vars:8,consts:[["slot","start"],["slot","end"],["defaultHref","/product-list"],["padding",""],[3,"formGroup","ngSubmit"],["position","floating"],["type","text","formControlName","prod_name",3,"ngModel","ngModelChange"],["class","error-message",4,"ngIf"],["type","number","formControlName","prod_price",3,"ngModel","ngModelChange"],["type","text","formControlName","prod_desc",3,"ngModel","ngModelChange"],["type","submit","shape","round","color","primary","expand","block",3,"disabled"],[1,"error-message"]],template:function(r,t){1&r&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o._UZ(3,"ion-menu-button"),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5," Nuevo Producto "),o.qZA(),o.TgZ(6,"ion-buttons",1),o._UZ(7,"ion-back-button",2),o.qZA()()(),o.TgZ(8,"ion-content",3)(9,"form",4),o.NdJ("ngSubmit",function(){return t.onFormSubmit(t.productForm.value)}),o.TgZ(10,"ion-item")(11,"ion-label",5),o._uU(12,"Nombre"),o.qZA(),o.TgZ(13,"ion-input",6),o.NdJ("ngModelChange",function(u){return t.producto.nombreprod=u}),o.qZA()(),o.YNc(14,A,2,1,"div",7),o.TgZ(15,"ion-item")(16,"ion-label",5),o._uU(17,"Precio"),o.qZA(),o.TgZ(18,"ion-input",8),o.NdJ("ngModelChange",function(u){return t.producto.precio=u}),o.qZA()(),o.YNc(19,v,2,1,"div",7),o.TgZ(20,"ion-item")(21,"ion-label",5),o._uU(22,"Descripci\xf3n"),o.qZA(),o.TgZ(23,"ion-textarea",9),o.NdJ("ngModelChange",function(u){return t.producto.direccion=u}),o.qZA()(),o.YNc(24,Z,2,1,"div",7),o.TgZ(25,"ion-button",10),o._uU(26,"Submit"),o.qZA()()(),o._uU(27," z ")),2&r&&(o.xp6(9),o.Q6J("formGroup",t.productForm),o.xp6(4),o.Q6J("ngModel",t.producto.nombreprod),o.xp6(1),o.Q6J("ngIf",t.nombreprodErrorL),o.xp6(4),o.Q6J("ngModel",t.producto.precio),o.xp6(1),o.Q6J("ngIf",t.precioErrorL),o.xp6(4),o.Q6J("ngModel",t.producto.direccion),o.xp6(1),o.Q6J("ngIf",t.direccionErrorL),o.xp6(1),o.Q6J("disabled",!t.productForm.valid))},dependencies:[p.O5,c._Y,c.JJ,c.JL,n.YG,n.Sm,n.W2,n.Gu,n.pK,n.Ie,n.Q$,n.fG,n.g2,n.wd,n.sr,n.as,n.j9,n.oU,c.sg,c.u]})}return e})()}];let T=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#r=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[s.Bz.forChild(b),s.Bz]})}return e})(),C=(()=>{class e{static#o=this.\u0275fac=function(r){return new(r||e)};static#r=this.\u0275mod=o.oAB({type:e});static#e=this.\u0275inj=o.cJS({imports:[p.ez,c.u5,n.Pc,T,c.UX,m.JF]})}return e})()}}]);